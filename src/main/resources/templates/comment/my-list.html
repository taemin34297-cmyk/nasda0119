<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout/header :: head}"></head>
<body class="bg-[#F9F6F1]">
<div th:replace="~{layout/header :: header}"></div>

<main class="max-w-4xl mx-auto py-12 px-6">
    <div class="flex items-center gap-4 mb-8">
        <a href="/user/mypage" class="text-[#A89080] hover:text-[#5A4D41] transition-colors">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
        </a>
        <h2 class="text-2xl font-bold text-[#5A4D41]">내가 작성한 댓글</h2>
    </div>

    <div class="space-y-4">
        <div th:if="${comments == null or comments.isEmpty()}" class="py-20 text-center bg-white rounded-2xl border border-dashed border-[#E8D5C4]">
            <p class="text-[#A89080]">아직 작성한 댓글이 없습니다.</p>
        </div>

        <div th:each="comment : ${comments}"
             th:onclick="|location.href='/comments/' + ${comment.commentId} + '/go'|"
             class="bg-white p-6 rounded-2xl border border-[#E8D5C4]/30 shadow-sm cursor-pointer hover:bg-[#F2ECE4] transition-all">

            <div class="flex justify-between items-start mb-2">
                <p class="text-[#5A4D41] font-medium line-clamp-2" th:text="${comment.content}">댓글 내용</p>
                <span class="text-xs text-[#A89080] ml-4 shrink-0" th:text="${#temporals.format(comment.createdAt, 'yyyy.MM.dd')}">날짜</span>
            </div>

            <div class="text-xs text-[#D4C4B0] flex items-center gap-1">
                <span>📌 원문:</span>
                <span class="truncate max-w-[200px]" th:text="${comment.post.title}">게시글 제목</span>
            </div>
        </div>
    </div>

    <div th:if="${totalPages > 0}" class="mt-10 flex justify-center gap-2">
        <a th:href="@{/comments/my(page=${currentPage - 1})}" th:if="${currentPage > 0}"
           class="px-4 py-2 bg-white border border-[#E8D5C4] text-[#8B7355] rounded-lg hover:bg-[#F2ECE4]">이전</a>

        <div class="flex gap-1">
            <a th:each="i : ${#numbers.sequence(0, totalPages - 1)}"
               th:href="@{/comments/my(page=${i})}" th:text="${i + 1}"
               class="px-4 py-2 rounded-lg"
               th:classappend="${i == currentPage} ? 'bg-[#D4C4B0] text-white' : 'bg-white border border-[#E8D5C4] text-[#8B7355] hover:bg-[#F2ECE4]'"></a>
        </div>

        <a th:href="@{/comments/my(page=${currentPage + 1})}" th:if="${currentPage < totalPages - 1}"
           class="px-4 py-2 bg-white border border-[#E8D5C4] text-[#8B7355] rounded-lg hover:bg-[#F2ECE4]">다음</a>
    </div>
</main>
<div th:replace="~{layout/header :: commonScript}"></div>
</body>
</html>